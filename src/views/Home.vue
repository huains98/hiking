<script setup lang="ts">
import { Backpack, Compass, MapPin, TrendingUp, Users, Plus, ChevronRight, Heart } from 'lucide-vue-next'
import { ref } from 'vue';

const menuItems = ref([
    { icon: MapPin, label: 'è·¯çº¿', color: 'from-blue-500 to-cyan-500', action: () => { } },
    { icon: Backpack, label: 'è£…å¤‡', color: 'from-orange-500 to-amber-500' },
    { icon: Users, label: 'ç»„é˜Ÿ', color: 'from-purple-500 to-pink-500' },
    { icon: TrendingUp, label: 'æ’è¡Œ', color: 'from-red-500 to-rose-500' }
])

const teams = ref([
    {
        id: 1,
        route: 'è™è·³å³¡å¾’æ­¥',
        leader: 'æˆ·å¤–è€é©´',
        avatar: 'ğŸ§‘â€ğŸ¦°',
        date: '11æœˆ15æ—¥',
        duration: '2å¤©1å¤œ',
        current: 5,
        total: 8,
        difficulty: 'ä¸­ç­‰',
        tags: ['AAåˆ¶', 'æ–°æ‰‹å‹å¥½']
    },
    {
        id: 2,
        route: 'é›¨å´©æ‘å¾’æ­¥',
        leader: 'é›ªå±±è¿½æ¢¦',
        avatar: 'ğŸ‘¨â€ğŸ¦±',
        date: '11æœˆ20æ—¥',
        duration: '4å¤©3å¤œ',
        current: 3,
        total: 6,
        difficulty: 'è¾ƒéš¾',
        tags: ['åŒ…è½¦', 'èµ„æ·±é©´å‹']
    }
])

const routes = ref([
    {
        id: 1,
        image: 'ğŸ”ï¸',
        title: 'æ¢…é‡Œé›ªå±±å¤§ç¯çº¿',
        difficulty: 'é«˜éš¾åº¦',
        difficultyLevel: 'hard',
        days: '8å¤©',
        distance: '120km',
        altitude: '4200m',
        author: 'å±±é‡è¡Œè€…',
        avatar: 'ğŸ‘¨',
        likes: 1243,
        views: 8921,
        location: 'äº‘å—Â·å¾·é’¦',
        season: '10-11æœˆ'
    },
    {
        id: 2,
        image: 'ğŸŒ²',
        title: 'ç¨»åŸäºšä¸å¾’æ­¥è·¯çº¿',
        difficulty: 'ä¸­ç­‰',
        difficultyLevel: 'medium',
        days: '5å¤©',
        distance: '65km',
        altitude: '4500m',
        author: 'äº‘æ¸¸å››æµ·',
        avatar: 'ğŸ‘©',
        likes: 2156,
        views: 12453,
        location: 'å››å·Â·ç¨»åŸ',
        season: '4-5æœˆ,9-10æœˆ'
    },
    {
        id: 3,
        image: 'â›°ï¸',
        title: 'æ­¦åŠŸå±±å…¨ç¨‹ç©¿è¶Š',
        difficulty: 'ä¸­ç­‰',
        difficultyLevel: 'medium',
        days: '3å¤©',
        distance: '45km',
        altitude: '1918m',
        author: 'å¾’æ­¥è¾¾äºº',
        avatar: 'ğŸ§‘',
        likes: 1876,
        views: 9654,
        location: 'æ±Ÿè¥¿Â·èä¹¡',
        season: 'å…¨å¹´',
        description: 'æ­¦åŠŸå±±ä½äºæ±Ÿè¥¿çœä¸­è¥¿éƒ¨ï¼Œå±…ç½—éœ„å±±è„‰åŒ—æ”¯ï¼Œç»µå»¶120å…¬é‡Œï¼Œä¸»å³°ç™½é¹¤å³°æµ·æ‹”1918.3ç±³ã€‚æ­¦åŠŸå±±ä»¥è‰ç”¸å¥‡è§‚é—»åï¼Œ10ä¸‡äº©é«˜å±±è‰ç”¸ç»µç»µäºæµ·æ‹”1600å¤šç±³çš„é«˜å±±ä¹‹å·…ï¼Œç©¿äº‘å…¥é›¾ã€‚',
        highlights: ['é«˜å±±è‰ç”¸', 'äº‘æµ·æ—¥å‡º', 'é‡‘é¡¶æ ˆé“', 'ç€‘å¸ƒç¾¤'],
        tips: ['å»ºè®®å¸¦ç™»å±±æ–', 'å±±é¡¶æ¸©å·®å¤§ï¼Œæ³¨æ„ä¿æš–', 'æå‰é¢„è®¢å±±é¡¶å¸ç¯·æˆ–å®¢æ ˆ', 'æ³¨æ„é˜²æ™’'],
        itinerary: [
            {
                day: 1,
                title: 'é¾™å±±æ‘ - é‡‘é¡¶',
                distance: '18km',
                time: '8å°æ—¶',
                ascent: '+1200m',
                desc: 'ä»é¾™å±±æ‘ç™»å±±å£å‡ºå‘ï¼Œæ²¿çŸ³é˜¶è€Œä¸Šï¼Œé€”ç»è§‚éŸ³å®•ã€ç´«æå®«',
                waypoints: [
                    { name: 'é¾™å±±æ‘ç™»å±±å£', time: '08:00', altitude: '800m', desc: 'èµ·ç‚¹ï¼Œæ£€æŸ¥è£…å¤‡ï¼Œå¼€å§‹ç™»å±±' },
                    { name: 'è§‚éŸ³å®•', time: '10:30', altitude: '1200m', desc: 'ç¬¬ä¸€ä¸ªä¼‘æ¯ç‚¹ï¼Œå¯è¡¥å……é¥®ç”¨æ°´' },
                    { name: 'ç´«æå®«', time: '13:00', altitude: '1500m', desc: 'åˆé¤ä¼‘æ¯ç‚¹ï¼Œæœ‰å°å–éƒ¨' },
                    { name: 'å‘äº‘ç•Œ', time: '15:30', altitude: '1800m', desc: 'å¼€å§‹è¿›å…¥é«˜å±±è‰ç”¸åŒºåŸŸ' },
                    { name: 'é‡‘é¡¶', time: '18:00', altitude: '1918m', desc: 'æ‰è¥çœ‹æ—¥è½ï¼Œå»ºè®®æå‰é¢„è®¢å¸ç¯·' }
                ],
                notes: ['å‰åŠæ®µä¸ºå°é˜¶è·¯ï¼Œæ³¨æ„è†ç›–ä¿æŠ¤', 'å‘äº‘ç•Œåæ‰‹æœºä¿¡å·è¾ƒå¼±', 'é‡‘é¡¶é£å¤§ï¼Œæ³¨æ„ä¿æš–'],
                photos: ['ğŸŒ„', 'â›º', 'ğŸŒ…']
            },
            {
                day: 2,
                title: 'é‡‘é¡¶ - ç™½é¹¤å³°',
                distance: '15km',
                time: '6å°æ—¶',
                ascent: '+300m',
                desc: 'æ—©èµ·è§‚æ—¥å‡ºï¼Œç©¿è¶Šé«˜å±±è‰ç”¸ï¼Œä½“éªŒäº‘æµ·ç¾æ™¯',
                waypoints: [
                    { name: 'é‡‘é¡¶æ—¥å‡º', time: '05:30', altitude: '1918m', desc: 'æœ€ä½³æ—¥å‡ºè§‚èµç‚¹' },
                    { name: 'åŠé©¬æ¡©', time: '09:00', altitude: '1800m', desc: 'è‘—åè‰ç”¸æ™¯è§‚ç‚¹' },
                    { name: 'ç»æœ›å¡', time: '11:30', altitude: '1650m', desc: 'é™¡å³­ä¸‹å¡ï¼Œæ³¨æ„å®‰å…¨' },
                    { name: 'ç™½é¹¤å³°', time: '14:00', altitude: '1700m', desc: 'ç¬¬äºŒæ™šéœ²è¥åœ°' }
                ],
                notes: ['æ—¥å‡ºæ—¶é—´çº¦5:30ï¼Œæå‰30åˆ†é’Ÿåˆ°è¾¾', 'è‰ç”¸è·¯æ®µæ³¨æ„é˜²æ™’', 'ç»æœ›å¡è¾ƒé™¡ï¼Œå»ºè®®ä½¿ç”¨ç™»å±±æ–'],
                photos: ['ğŸŒ…', 'ğŸŒ¾', 'â˜ï¸']
            },
            {
                day: 3,
                title: 'ç™½é¹¤å³° - æ²ˆå­æ‘',
                distance: '12km',
                time: '5å°æ—¶',
                ascent: '-1500m',
                desc: 'ä¸‹å±±è·¯æ®µï¼Œç»è¿‡ç€‘å¸ƒç¾¤ï¼Œè¿”å›å±±ä¸‹',
                waypoints: [
                    { name: 'ç™½é¹¤å³°å‡ºå‘', time: '08:00', altitude: '1700m', desc: 'å¼€å§‹ä¸‹å±±' },
                    { name: 'ä¹é¾™å±±', time: '10:00', altitude: '1200m', desc: 'è§‚æ™¯å°ï¼Œå¯ä¿¯ç°å±±è°·' },
                    { name: 'é¾™æ½­ç€‘å¸ƒ', time: '11:30', altitude: '600m', desc: 'ç€‘å¸ƒç¾¤æ™¯åŒºï¼Œå¯æˆæ°´ä¼‘æ¯' },
                    { name: 'æ²ˆå­æ‘', time: '13:00', altitude: '200m', desc: 'ç»ˆç‚¹ï¼Œè¡Œç¨‹ç»“æŸ' }
                ],
                notes: ['ä¸‹å±±æ—¶æ³¨æ„è†ç›–ä¿æŠ¤', 'ç€‘å¸ƒåŒºåŸŸè·¯æ»‘ï¼Œå°å¿ƒè¡Œèµ°', 'åˆ°è¾¾åå¯åœ¨æ‘é‡Œç”¨é¤ä¼‘æ¯'],
                photos: ['ğŸ’§', 'ğŸ”ï¸', 'ğŸ‰']
            }
        ],
        equipmentList: [
            { category: 'æœè£…', items: ['å†²é”‹è¡£', 'é€Ÿå¹²è¡£è£¤', 'æŠ“ç»’è¡£', 'ç™»å±±é‹'] },
            { category: 'è£…å¤‡', items: ['ç™»å±±åŒ…(40-50L)', 'ç™»å±±æ–', 'å¤´ç¯', 'ç¡è¢‹'] },
            { category: 'é£Ÿå“', items: ['å‹ç¼©é¥¼å¹²', 'èƒ½é‡æ£’', 'æ°´æœ', 'ç”µè§£è´¨é¥®æ–™'] }
        ]
    },
    {
        id: 4,
        image: 'ğŸ•ï¸',
        title: 'è´¡å˜å±±å¤§ç¯çº¿',
        difficulty: 'é«˜éš¾åº¦',
        difficultyLevel: 'hard',
        days: '7å¤©',
        distance: '110km',
        altitude: '4800m',
        author: 'é›ªåŸŸè¡Œè€…',
        avatar: 'ğŸ‘¨â€ğŸ¦°',
        likes: 1543,
        views: 7234,
        location: 'å››å·Â·åº·å®š',
        season: '5-6æœˆ,9-10æœˆ'
    },
    {
        id: 5,
        image: 'ğŸŒ„',
        title: 'ç‹¼å¡”Cçº¿ç©¿è¶Š',
        difficulty: 'é«˜éš¾åº¦',
        difficultyLevel: 'hard',
        days: '9å¤©',
        distance: '130km',
        altitude: '3800m',
        author: 'æ²™æ¼ ä¹‹é¹°',
        avatar: 'ğŸ§”',
        likes: 987,
        views: 5432,
        location: 'æ–°ç–†Â·æ˜Œå‰',
        season: '7-8æœˆ'
    },
    {
        id: 6,
        image: 'ğŸŒ¿',
        title: 'è™è·³å³¡å¾’æ­¥',
        difficulty: 'ç®€å•',
        difficultyLevel: 'easy',
        days: '2å¤©',
        distance: '28km',
        altitude: '2600m',
        author: 'ä¸½æ±Ÿè€å¼ ',
        avatar: 'ğŸ‘¨â€ğŸ¦³',
        likes: 3421,
        views: 18765,
        location: 'äº‘å—Â·ä¸½æ±Ÿ',
        season: 'å…¨å¹´'
    },
    {
        id: 7,
        image: 'ğŸï¸',
        title: 'å°¼æ³Šå°”ABCå¤§ç¯çº¿',
        difficulty: 'ä¸­ç­‰',
        difficultyLevel: 'medium',
        days: '10å¤©',
        distance: '85km',
        altitude: '4130m',
        author: 'å–œé©¬æ‹‰é›…å‘å¯¼',
        avatar: 'ğŸ‘³',
        likes: 2876,
        views: 15432,
        location: 'å°¼æ³Šå°”Â·åšå¡æ‹‰',
        season: '3-5æœˆ,10-11æœˆ'
    },
    {
        id: 8,
        image: 'ğŸ—»',
        title: 'å››å§‘å¨˜å±±é•¿åªæ²Ÿ',
        difficulty: 'ç®€å•',
        difficultyLevel: 'easy',
        days: '1å¤©',
        distance: '15km',
        altitude: '3200m',
        author: 'èœ€å±±ä¹‹ç‹',
        avatar: 'ğŸ‘¨â€ğŸŒ¾',
        likes: 2543,
        views: 13245,
        location: 'å››å·Â·å°é‡‘',
        season: '5-10æœˆ'
    }
])

const equipment = ref([
    {
        id: 1,
        image: 'ğŸ’',
        name: 'è¶…è½»ç™»å±±åŒ… 50L',
        price: 'Â¥899',
        category: 'èƒŒåŒ…',
        rating: 4.9
    },
    {
        id: 2,
        image: 'ğŸ‘Ÿ',
        name: 'é˜²æ°´å¾’æ­¥é‹',
        price: 'Â¥1299',
        category: 'é‹é´',
        rating: 4.8
    },
    {
        id: 3,
        image: 'â›º',
        name: 'åŒäººå¸ç¯·',
        price: 'Â¥1599',
        category: 'éœ²è¥',
        rating: 4.7
    }
])
</script>

<template>
    <div class="w-full mx-auto min-h-screen bg-slate-50">
        <!-- é¡¶éƒ¨ -->
        <div class="bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-5 pt-10 pb-6 rounded-b-3xl shadow-xl">
            <div class="flex items-center justify-between mb-5">
                <div>
                    <h1 class="text-xl font-bold">å¾’æ­¥æ¢é™©</h1>
                    <p class="text-emerald-100 text-xs mt-0.5">å‘ç°æ›´å¤šç²¾å½©è·¯çº¿</p>
                </div>
                <div class="bg-white/20 backdrop-blur-sm p-2.5 rounded-full">
                    <Compass :size="20" />
                </div>
            </div>

            <!-- {/* æœç´¢æ  */} -->
            <div class="bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2.5 flex items-center">
                <input type="text" placeholder="æœç´¢è·¯çº¿ã€è£…å¤‡ã€æ”»ç•¥..."
                    class="flex-1 bg-transparent placeholder-white/70 outline-none text-white text-sm" />
                <MapPin :size="18" class="text-white/70" />
            </div>
        </div>
        <!-- å¿«æ·å…¥å£ -->
        <div class="grid grid-cols-4 gap-3 px-5 -mt-5">
            <div v-for="(item, index) in menuItems" :key="index" @click="item.action"
                class="bg-white rounded-xl p-3 shadow-lg text-center active:scale-95 transition-all cursor-pointer">
                <div :class="`bg-gradient-to-br ${item.color} w-10 h-10 rounded-lg flex items-center justify-center
                    mx-auto mb-1.5`">
                    <component :is="item.icon" :size="20" class="text-white" />
                </div>
                <span class="text-xs text-slate-600 font-medium">{{ item.label }}</span>
            </div>
        </div>
        <!-- ç»„é˜Ÿé‚€è¯· -->
        <div class="px-5 mt-6">
            <div class="flex items-center justify-between mb-3">
                <h2 class="text-lg font-bold text-slate-800">ç»„é˜Ÿé‚€è¯·</h2>
                <button class="text-emerald-600 text-sm font-medium flex items-center active:scale-95 transition-all">
                    å‘èµ·ç»„é˜Ÿ
                    <Plus :size="14" class="ml-0.5" />
                </button>
            </div>

            <div class="space-y-3">
                <div v-for="team in teams" :key="team.id"
                    class="bg-gradient-to-br from-white to-slate-50 rounded-2xl shadow-lg p-4 border border-slate-100 active:scale-95 transition-all">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex-1">
                            <h3 class="font-bold text-slate-800 text-base mb-1">{{ team.route }}</h3>
                            <div class="flex items-center gap-2 text-xs text-slate-600">
                                <span class="flex items-center gap-1">
                                    <span>{{ team.avatar }}</span>
                                    <span>{{ team.leader }}</span>
                                </span>
                                <span class="text-slate-400">Â·</span>
                                <span>{{ team.date }}</span>
                            </div>
                        </div>
                        <div class="bg-emerald-100 text-emerald-700 text-xs px-2 py-1 rounded-full font-medium">
                            {{ team.duration }}
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-1.5 mb-3">
                        <span class="text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full">{{ team.difficulty
                        }}</span>
                        <span v-for="(tag, idx) in team.tags" :key="idx"
                            class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full">{{ tag }}</span>
                    </div>

                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="flex items-center">

                                <div v-for="(_, i) in [...Array(team.current)]" :key="i"
                                    class="w-6 h-6 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full border-2 border-white -ml-1 first:ml-0 flex items-center justify-center text-xs">
                                    ğŸ‘¤
                                </div>


                                <div v-for="(_, i) in [...Array(Math.min(3, team.total - team.current))]"
                                    :key="`empty-${i}`"
                                    class="w-6 h-6 bg-slate-200 rounded-full border-2 border-white -ml-1 flex items-center justify-center text-xs text-slate-400">
                                    +
                                </div>

                            </div>
                            <span class="text-sm text-slate-600">
                                <span class="font-semibold text-emerald-600">{{ team.current }}</span>/{{ team.total }}äºº
                            </span>
                        </div>
                        <button
                            class="bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-4 py-1.5 rounded-lg text-sm font-medium shadow-md active:scale-95 transition-all">
                            åŠ å…¥
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- çƒ­é—¨è·¯çº¿ -->
        <div class="px-5 mt-6">
            <div class="flex items-center justify-between mb-3">
                <h2 class="text-lg font-bold text-slate-800">çƒ­é—¨è·¯çº¿</h2>
                <button class="text-emerald-600 text-sm font-medium flex items-center active:scale-95 transition-all">
                    æ›´å¤š
                    <ChevronRight :size="14" />
                </button>
            </div>

            <div class="space-y-3">
                <div v-for="route in routes.slice(0, 3)" :key="route.id"
                    class="bg-white rounded-2xl shadow-lg overflow-hidden active:scale-95 transition-all">
                    <div class="flex">
                        <div
                            class="w-28 h-28 bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center text-5xl flex-shrink-0">
                            {{ route.image }}
                        </div>
                        <div class="flex-1 p-3 min-w-0">
                            <h3 class="font-bold text-slate-800 mb-1.5 text-sm truncate">{{ route.title }}</h3>
                            <div class="flex flex-wrap gap-1.5 mb-2">
                                <span class="text-xs bg-orange-100 text-orange-600 px-2 py-0.5 rounded-full">{{
                                    route.difficulty }}</span>
                                <span class="text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full">{{ route.days
                                    }}</span>
                                <span class="text-xs bg-purple-100 text-purple-600 px-2 py-0.5 rounded-full">{{
                                    route.distance }}</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-1.5 text-xs text-slate-600">
                                    <span>{{ route.avatar }}</span>
                                    <span class="truncate">{{ route.author }}</span>
                                </div>
                                <div class="flex items-center gap-2 text-xs text-slate-400">
                                    <span class="flex items-center gap-0.5">
                                        <Heart :size="12" /> {{ route.likes }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- è£…å¤‡æ¨è -->
        <div class="px-5 mt-6 pb-20">
            <div class="flex items-center justify-between mb-3">
                <h2 class="text-lg font-bold text-slate-800">è£…å¤‡æ¨è</h2>
                <button class="text-emerald-600 text-sm font-medium flex items-center active:scale-95 transition-all">
                    æ›´å¤š
                    <ChevronRight :size="14" />
                </button>
            </div>

            <div class="grid grid-cols-3 gap-2.5">
                <div v-for="item in equipment" :key="item.id"
                    class="bg-white rounded-xl shadow-lg overflow-hidden active:scale-95 transition-all">
                    <div
                        class="bg-gradient-to-br from-slate-100 to-slate-200 h-24 flex items-center justify-center text-4xl">
                        {{ item.image }}
                    </div>
                    <div class="p-2.5">
                        <div class="text-xs text-slate-500 mb-0.5">{{ item.category }}</div>
                        <h4 class="font-semibold text-xs text-slate-800 mb-1.5 line-clamp-2 leading-tight">
                            {{ item.name }}</h4>
                        <div class="flex items-center justify-between">
                            <span class="text-emerald-600 font-bold text-sm">{{ item.price }}</span>
                            <div class="flex items-center gap-0.5 text-xs text-amber-500">
                                <span>â­</span>
                                <span>{{ item.rating }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
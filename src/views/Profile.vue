<script lang="ts" setup>
import { reactive, ref } from 'vue'
import { Share2, ChevronRight } from 'lucide-vue-next'

const userStats = reactive({
    routes: 23,
    distance: 856,
    days: 67,
    altitude: 4800
})

const myRoutes = ref([
    { id: 1, title: 'æ­¦åŠŸå±±ç©¿è¶Š', date: '2024-10-15', image: 'â›°ï¸', status: 'å·²å®Œæˆ' },
    { id: 2, title: 'è™è·³å³¡å¾’æ­¥', date: '2024-09-20', image: 'ğŸŒ¿', status: 'å·²å®Œæˆ' },
    { id: 3, title: 'æ¢…é‡Œé›ªå±±å¤§ç¯çº¿', date: '2024-11-20', image: 'ğŸ”ï¸', status: 'è®¡åˆ’ä¸­' }
])
const achievements = ref([
    { id: 1, name: 'åˆå‡ºèŒ…åº', icon: 'ğŸ¥‰', desc: 'å®Œæˆé¦–æ¬¡å¾’æ­¥', unlocked: true },
    { id: 2, name: 'ç™¾é‡Œå¾ç¨‹', icon: 'ğŸ¥ˆ', desc: 'ç´¯è®¡å¾’æ­¥100km', unlocked: true },
    { id: 3, name: 'ç™»å³°é€ æ', icon: 'ğŸ†', desc: 'ç™»é¡¶æµ·æ‹”4000m+', unlocked: true },
    { id: 4, name: 'å¾’æ­¥è¾¾äºº', icon: 'â­', desc: 'å®Œæˆ20æ¡è·¯çº¿', unlocked: true },
    { id: 5, name: 'åƒé‡Œä¹‹è¡Œ', icon: 'ğŸ’', desc: 'ç´¯è®¡å¾’æ­¥1000km', unlocked: false },
    { id: 6, name: 'äº‘ç«¯æ¼«æ­¥', icon: 'â˜ï¸', desc: 'ç™»é¡¶æµ·æ‹”5000m+', unlocked: false }
])

const menuItems = ref([
    { icon: 'ğŸ“', title: 'æˆ‘çš„æ”»ç•¥', count: 12, color: 'from-blue-500 to-cyan-500' },
    { icon: 'ğŸ‘¥', title: 'æˆ‘çš„ç»„é˜Ÿ', count: 5, color: 'from-purple-500 to-pink-500' },
    { icon: 'â¤ï¸', title: 'æ”¶è—è·¯çº¿', count: 34, color: 'from-red-500 to-rose-500' },
    { icon: 'ğŸ’', title: 'è£…å¤‡æ¸…å•', count: 0, color: 'from-orange-500 to-amber-500' },
    { icon: 'ğŸ“·', title: 'æˆ‘çš„è¶³è¿¹', count: 156, color: 'from-emerald-500 to-teal-500' },
    { icon: 'âš™ï¸', title: 'è®¾ç½®', count: 0, color: 'from-slate-500 to-slate-600' }
])
</script>

<template>
    <div class="w-full max-w-md mx-auto min-h-screen bg-slate-50">
        <!-- {/* é¡¶éƒ¨ä¸ªäººä¿¡æ¯ */} -->
        <div
            class="bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-600 px-5 pt-10 pb-20 relative overflow-hidden">
            <!-- {/* èƒŒæ™¯è£…é¥° */} -->
            <div class="absolute inset-0 opacity-10">
                <div class="absolute top-0 right-0 w-64 h-64 bg-white rounded-full blur-3xl"></div>
                <div class="absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full blur-3xl"></div>
            </div>

            <!-- {/* è®¾ç½®æŒ‰é’® */} -->
            <button
                class="absolute top-10 right-5 bg-white/20 backdrop-blur-sm text-white p-2 rounded-full active:scale-95 transition-all">
                <Share2 :size="20" />
            </button>

            <!-- {/* ç”¨æˆ·ä¿¡æ¯ */} -->
            <div class="relative z-10 flex flex-col items-center">
                <div
                    class="w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center text-4xl mb-3 border-4 border-white shadow-xl">
                    ğŸ‘¨â€ğŸ¦°
                </div>
                <h2 class="text-white text-xl font-bold mb-1">å±±é‡è¡Œè€…</h2>
                <p class="text-emerald-100 text-sm mb-4">æ¢ç´¢ä¸–ç•Œçš„æ¯ä¸€ä¸ªè§’è½</p>

                <!-- {/* ç­‰çº§å¾½ç«  */} -->
                <div class="flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-1.5 rounded-full">
                    <span class="text-amber-300 text-lg">â­</span>
                    <span class="text-white text-sm font-medium">Lv.8 èµ„æ·±é©´å‹</span>
                </div>
            </div>
        </div>

        <!-- {/* æ•°æ®ç»Ÿè®¡å¡ç‰‡ */} -->
        <div class="px-5 -mt-12 relative z-10 mb-5">
            <div class="bg-white rounded-2xl shadow-xl p-5">
                <div class="grid grid-cols-4 gap-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-emerald-600 mb-1">{{ userStats.routes }}</div>
                        <div class="text-xs text-slate-500">å®Œæˆè·¯çº¿</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-600 mb-1">{{ userStats.distance }}</div>
                        <div class="text-xs text-slate-500">æ€»é‡Œç¨‹(km)</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-purple-600 mb-1">{{ userStats.days }}</div>
                        <div class="text-xs text-slate-500">å¾’æ­¥å¤©æ•°</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-orange-600 mb-1">{{ userStats.altitude }}</div>
                        <div class="text-xs text-slate-500">æœ€é«˜æµ·æ‹”(m)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- {/* æˆå°±å¾½ç«  */} -->
        <div class="px-5 mb-5">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-bold text-slate-800 flex items-center gap-2">
                    <span class="text-amber-500">ğŸ†</span>
                    æˆ‘çš„æˆå°±
                </h3>
                <button class="text-emerald-600 text-sm font-medium flex items-center active:scale-95 transition-all">
                    æŸ¥çœ‹å…¨éƒ¨
                    <ChevronRight :size="14" />
                </button>
            </div>
            <div class="grid grid-cols-3 gap-3">
                <div v-for="achievement in achievements" :key="achievement.id"
                    :class="`bg-white rounded-xl p-3 text-center shadow-sm ${achievement.unlocked ? '' : 'opacity-40'}`">
                    <div class="text-3xl mb-1">{{ achievement.icon }}</div>
                    <div class="text-xs font-bold text-slate-800 mb-0.5">{{ achievement.name }}</div>
                    <div class="text-xs text-slate-500">{{ achievement.desc }}</div>

                    <div v-if="achievement.unlocked" class="mt-1 text-xs text-emerald-600 font-medium">âœ“ å·²è§£é”</div>

                </div>
            </div>
        </div>

        <!-- {/* æˆ‘çš„è·¯çº¿ */} -->
        <div class="px-5 mb-5">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-bold text-slate-800">æˆ‘çš„è·¯çº¿</h3>
                <button class="text-emerald-600 text-sm font-medium flex items-center active:scale-95 transition-all">
                    æŸ¥çœ‹å…¨éƒ¨
                    <ChevronRight :size="14" />
                </button>
            </div>
            <div class="space-y-3">
                <div v-for="route in myRoutes" :key="route.id"
                    class="bg-white rounded-xl shadow-sm p-3 flex items-center gap-3 active:scale-95 transition-all">
                    <div
                        class="w-14 h-14 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-lg flex items-center justify-center text-3xl flex-shrink-0">
                        {{ route.image }}
                    </div>
                    <div class="flex-1 min-w-0">
                        <h4 class="font-bold text-slate-800 text-sm mb-1">{{ route.title }}</h4>
                        <div class="flex items-center gap-2 text-xs text-slate-500">
                            <span>ğŸ“… {{ route.date }}</span>
                        </div>
                    </div>
                    <div :class="`text-xs px-2 py-1 rounded-full font-medium flex-shrink-0 ${route.status === 'å·²å®Œæˆ'
                        ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700'}`">
                        {{ route.status }}
                    </div>
                </div>

            </div>
        </div>

        <!-- {/* åŠŸèƒ½èœå• */} -->
        <div class="px-5 pb-80px">
            <div class="grid grid-cols-2 gap-3">

                <div v-for="(item, index) in menuItems" :key="index"
                    class="bg-white rounded-xl shadow-sm p-4 active:scale-95 transition-all cursor-pointer">
                    <div class="flex items-center justify-between mb-2">
                        <div class="`w-10 h-10 bg-gradient-to-br ${item.color} rounded-lg flex items-center
                            justify-center text-xl`">
                            {{ item.icon }}
                        </div>

                        <span v-if="item.count > 0"
                            class="bg-red-500 text-white text-xs px-2 py-0.5 rounded-full font-medium">
                            {{ item.count }}
                        </span>

                    </div>
                    <div class="font-medium text-slate-800 text-sm">{{ item.title }}</div>
                </div>

            </div>
        </div>
    </div>
</template>